(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{325:function(a,t,s){"use strict";s.r(t);var e=s(14),r=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("p",[a._v("@[toc]")]),a._v(" "),t("h2",{attrs:{id:"概要"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#概要"}},[a._v("#")]),a._v(" 概要")]),a._v(" "),t("p",[a._v("在前端开发中，经常接触到JavaScript脚本文件、CSS、HTML文件，每一次开发后，我们需要重新编译，会导致文件名发生变化。这样使得浏览网页时候，需要重新加载资源")]),a._v(" "),t("p",[a._v("如果能合理利用浏览器的缓存，可以提高响应速度。")]),a._v(" "),t("p",[a._v("浏览器"),t("code",[a._v("缓存涉及到客户端和服务器之间的交互")]),a._v("，当浏览器"),t("code",[a._v("请求一个资源的时候")]),a._v("，他首先检查"),t("code",[a._v("该资源是否已经存在于HTTP缓存中")]),a._v("，如果"),t("code",[a._v("存在")]),a._v("，并且"),t("code",[a._v("满足不过期条件")]),a._v("，浏览器则"),t("code",[a._v("会使用缓存的资源")]),a._v("，而不会从服务器重新请求。这个就是缓存的作用。")]),a._v(" "),t("p",[a._v("在实际的项目开发中，浏览器为我们提供下面的三种缓存机制："),t("code",[a._v("强缓存、协商缓存和不使用缓存")]),a._v("，下面针对以上三个类型进行说明。")]),a._v(" "),t("h2",{attrs:{id:"强缓存"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#强缓存"}},[a._v("#")]),a._v(" 强缓存")]),a._v(" "),t("h3",{attrs:{id:"定义"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#定义"}},[a._v("#")]),a._v(" 定义")]),a._v(" "),t("p",[a._v("强缓存，直接使用缓存文件，不请求服务器。")]),a._v(" "),t("h3",{attrs:{id:"开启"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开启"}},[a._v("#")]),a._v(" 开启")]),a._v(" "),t("p",[a._v("要实现强缓存，可以通过设置HTTP响应头和cache-control 、Expires字段来实现")]),a._v(" "),t("ul",[t("li",[a._v("设置"),t("code",[a._v("cache-control")]),a._v(" ：在服务器响应中添加"),t("code",[a._v("Cache-Control:max-age=3600")]),a._v("，这将告诉浏览器可以将对应http资源"),t("code",[a._v("缓存3600秒")]),a._v("。这个时间内，浏览器直接从本地缓存加载该资源，而不会向服务器发送请求。")])]),a._v(" "),t("div",{staticClass:"language-html line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-html"}},[t("code",[a._v("HTTP/1.1 200 OK\nDate: Wed, 21 Oct 2025 07:28:00 GMT\nCache-Control: max-age=3600\nContent-Type: text/html; charset=utf-8\nContent-Length: 131\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br")])]),t("ul",[t("li",[t("code",[a._v("设置 Expires")]),a._v("：另一种设置方式就是使用Expire 字段，它的值是"),t("code",[a._v("一个具体的时间")]),a._v("，例如，Expires: Wed, 21 Oct 2025 07:28:00 GMT，表示资源将在"),t("code",[a._v("2025 07:28:00之后过去")])])]),a._v(" "),t("h2",{attrs:{id:"关闭强缓存"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#关闭强缓存"}},[a._v("#")]),a._v(" 关闭强缓存")]),a._v(" "),t("p",[a._v("如果需要关闭强缓存，可以使用"),t("code",[a._v("Cache-Control: no-cache")]),a._v("，这将迫使浏览器每次都向服务器发送请求，"),t("code",[a._v("通过协商机制来决定是否命中缓存")]),a._v("。")]),a._v(" "),t("p",[a._v("当设置成为"),t("code",[a._v("no-store")]),a._v("时，则"),t("code",[a._v("完全禁止使用任何缓存")]),a._v("，不存在协商，直接拉取服务器资源，重新加载。")]),a._v(" "),t("h2",{attrs:{id:"协商缓存"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#协商缓存"}},[a._v("#")]),a._v(" 协商缓存")]),a._v(" "),t("p",[a._v("浏览器协商缓存，也称为弱缓存，是一种利用HTTP响应头中的Last-Modified 和Etag字段来验证资源是否修改的机制，来决定是否使用本地缓存。在使用协商缓时候，一定要设置"),t("code",[a._v("cache-control：no-cache")]),a._v(" ，这样才能发起请求，向服务器确认资源是否被修改。")]),a._v(" "),t("h3",{attrs:{id:"工作机制"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#工作机制"}},[a._v("#")]),a._v(" 工作机制")]),a._v(" "),t("h4",{attrs:{id:"通过last-modified-if-modified-since"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#通过last-modified-if-modified-since"}},[a._v("#")]),a._v(" 通过Last-Modified + If-Modified-Since")]),a._v(" "),t("p",[a._v("1.当我们第一次请求的时候，浏览器会在头添加"),t("code",[a._v("Last-Modified")]),a._v(" 字段，这个值表示"),t("code",[a._v("资源最后修改的时间")]),a._v("。")]),a._v(" "),t("p",[a._v("2.在这个资源"),t("code",[a._v("后续的请求中")]),a._v("，浏览器都会在"),t("code",[a._v("请求头中")]),a._v("，添加 "),t("code",[a._v("If-Modified-Since")]),a._v(" 字段，这个值就是"),t("code",[a._v("上一次服务器在响应头添加的Last-Modified")]),a._v(" 的值。")]),a._v(" "),t("p",[a._v("3.服务器接受到这个请求后，会根据 If-Modified-since 的值与服务器上的"),t("code",[a._v("资源做对比")]),a._v("，如果"),t("code",[a._v("值不一致，服务器资源发送变化")]),a._v("，则服务器"),t("code",[a._v("返回最新的资源")]),a._v("和"),t("code",[a._v("新的 last-Modified 字段")]),a._v("。")]),a._v(" "),t("p",[a._v("4.如果对比发现，"),t("code",[a._v("服务器上资源")]),a._v("的"),t("code",[a._v("最后修改时间")]),a._v("和"),t("code",[a._v("请求的 If-Modified-since一致")]),a._v("，则返回"),t("code",[a._v("304 Not Modified")]),a._v(" 状态码，告诉浏览器可以"),t("code",[a._v("使用本地缓存")]),a._v("。")]),a._v(" "),t("h4",{attrs:{id:"通过etag-if-none-match"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#通过etag-if-none-match"}},[a._v("#")]),a._v(" 通过ETag + If-None-Match")]),a._v(" "),t("p",[a._v("通过 ETag 方式来实现的话，原理和流程和上诉的一致，不同的是ETag 值表示"),t("code",[a._v("文件唯一标识")]),a._v(",这个值"),t("code",[a._v("随着随着文件内容改动而发生变化")]),a._v("，而如果文件"),t("code",[a._v("内容没有改变")]),a._v("，则"),t("code",[a._v("ETag 值不会发生变化")]),a._v("。")]),a._v(" "),t("p",[a._v("在我们实际开发中，可以将ETag 理解成为文件的hash值，一旦文件改动，hash值变化。")]),a._v(" "),t("h2",{attrs:{id:"不使用缓存"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#不使用缓存"}},[a._v("#")]),a._v(" 不使用缓存")]),a._v(" "),t("p",[a._v("不使用缓存，将告诉浏览器，每一次加载资源，都需要重服务器请求获取最新的资源文件，可以通过以下的方式来实现")]),a._v(" "),t("ul",[t("li",[a._v("设置"),t("code",[a._v("Cache-Control")]),a._v(" ：在响应头上，将Cache-Control 设置为 "),t("code",[a._v("no-store")]),a._v("。将禁止使用任何缓存。")]),a._v(" "),t("li",[a._v("将"),t("code",[a._v("Expire")]),a._v("字段设置为"),t("code",[a._v("0")]),a._v("，表示资源立马过期。")])]),a._v(" "),t("h2",{attrs:{id:"前端利用缓存机制-修改打包方案"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#前端利用缓存机制-修改打包方案"}},[a._v("#")]),a._v(" 前端利用缓存机制，修改打包方案")]),a._v(" "),t("h3",{attrs:{id:"webpack-打包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#webpack-打包"}},[a._v("#")]),a._v(" webpack 打包")]),a._v(" "),t("p",[a._v("我们日常的开发中，利用"),t("code",[a._v("webpack")]),a._v(" 进行资源打包，默认情况下，生成的文件名称，带有"),t("code",[a._v("hash")]),a._v(" 值。如下图中，用红线标出的地方，都是hash值。")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://img-blog.csdnimg.cn/direct/6ed405d77edf418fa384a510039ee0fc.png",alt:"在这里插入图片描述"}})]),a._v(" "),t("p",[a._v("这个"),t("code",[a._v("hash 值是全局的")]),a._v("，"),t("code",[a._v("不局限于当前文件")]),a._v("，也就是说，"),t("code",[a._v("只要当前项目有任何一个模块")]),a._v("或文件的内容"),t("code",[a._v("发生改动")]),a._v("的时候，项目的"),t("code",[a._v("hash值都会发生变化")]),a._v("。")]),a._v(" "),t("p",[a._v("如此一来，文件名称改动了，我们打包部署到服务后，客户端"),t("code",[a._v("需要重新获取资源")]),a._v("，而无法使用缓存来加快响应速度。")]),a._v(" "),t("h3",{attrs:{id:"webpack-打包名称优化"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#webpack-打包名称优化"}},[a._v("#")]),a._v(" webpack 打包名称优化")]),a._v(" "),t("h4",{attrs:{id:"webpack-默认的hash-值"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#webpack-默认的hash-值"}},[a._v("#")]),a._v(" webpack 默认的hash 值")]),a._v(" "),t("p",[a._v("在Webpack中，输出文件名的哈希值默认是"),t("code",[a._v("[hash]")]),a._v("，这意味着每次构建时，\t"),t("code",[a._v("只要项目中有任何文件发生变化")]),a._v("，生成的文件"),t("code",[a._v("哈希值")]),a._v("就会改变。这种哈希值与整个项目有关，因此它是全局的，"),t("code",[a._v("不特定于某个文件或模块")]),a._v("。")]),a._v(" "),t("h4",{attrs:{id:"webapck其他hash-类型"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#webapck其他hash-类型"}},[a._v("#")]),a._v(" webapck其他hash 类型")]),a._v(" "),t("p",[a._v("我们可以通过手动配置webpack 打包文件，来实现输出文件名的hash的控制，webpack 为我们提供处理[hash] 以外的方案，如下")]),a._v(" "),t("ul",[t("li",[a._v("contenthash\n[contenthash] 只有"),t("code",[a._v("当前文件内容发生改动")]),a._v("，"),t("code",[a._v("hash值才会发生变化")]),a._v("。这有助于确保只有当"),t("code",[a._v("文件内容发生变化时")]),a._v("，文件名才会改变，从而有效地利用浏览器缓存。")]),a._v(" "),t("li",[a._v("chunkhash\n[chunkhash] 在一个文件中，如果"),t("code",[a._v("被依赖的模块")]),a._v("或"),t("code",[a._v("引入的文件资源")]),a._v("，"),t("code",[a._v("发生变化时")]),a._v("，"),t("code",[a._v("hash 值发生变化")]),a._v("，而如果"),t("code",[a._v("文件本身自己内容发生改动")]),a._v("，"),t("code",[a._v("hash值是不会变化")]),a._v("的。")])]),a._v(" "),t("h4",{attrs:{id:"配置webpack打包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置webpack打包"}},[a._v("#")]),a._v(" 配置webpack打包")]),a._v(" "),t("p",[a._v("我们可以通过手动配置webpack 输出文件名，将【hash】修改为【contenthash】来优化。")]),a._v(" "),t("p",[a._v("在webpack 项目中，可以修改 "),t("code",[a._v("webpack.config.js")]),a._v("文件如下：")]),a._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[a._v("module"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[a._v("output")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[a._v("filename")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'[name].[contenthash].js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[a._v("chunkFilename")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'[name].[contenthash].chunk.js'")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br")])]),t("h3",{attrs:{id:"webpack-代码分割优化"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#webpack-代码分割优化"}},[a._v("#")]),a._v(" webpack 代码分割优化")]),a._v(" "),t("p",[a._v("在我们日常开发中，常常引入第三方库，如vue.js ，elementUi等。这些第三方库，在我们"),t("code",[a._v("项目搭建初期")]),a._v("，"),t("code",[a._v("版本已经固定了")]),a._v("，"),t("code",[a._v("后面不需要改动")]),a._v("，如果修改升级，则另外讨论。")]),a._v(" "),t("p",[a._v("如果我们可以将这些第三方库，和自己手写的源码"),t("code",[a._v("分割处理")]),a._v("，"),t("code",[a._v("将第三方库独立出来")]),a._v("，即使我们自己写的代码改动，不会影响第三方库文件模块，从而实现缓存命中。")]),a._v(" "),t("p",[a._v("幸运的是，"),t("code",[a._v("webpack 默认带有代码分割的功能")]),a._v("，它基于以下的规则")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("共享模块\n如果一个新的块可以被多个入口点共享，Webpack会将其分割出来")])]),a._v(" "),t("li",[t("p",[a._v("第三方库\n来自node_modules文件夹的模块通常会被分割出来。")])]),a._v(" "),t("li",[t("p",[a._v("文件大小\n如果新的块在压缩和gzip之前的大小超过30kb，Webpack也会将其分割出来。")])])]),a._v(" "),t("p",[a._v("除此之外，我们可以通过 webpack.config.js 修改，如下")]),a._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[a._v("module"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[a._v("optimization")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[a._v("splitChunks")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[a._v("chunks")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'all'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[a._v("minSize")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("30000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[a._v("maxSize")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[a._v("minChunks")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[a._v("maxAsyncRequests")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[a._v("maxInitialRequests")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[a._v("automaticNameDelimiter")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'~'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[a._v("name")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[a._v("cacheGroups")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[a._v("vendors")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n          "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[a._v("test")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token regex"}},[t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[a._v("/")]),t("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[a._v("[\\\\/]node_modules[\\\\/]")]),t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[a._v("/")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n          "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[a._v("priority")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("10")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("default")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n          "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[a._v("minChunks")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n          "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[a._v("priority")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("20")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n          "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[a._v("reuseExistingChunk")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("true")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br"),t("span",{staticClass:"line-number"},[a._v("12")]),t("br"),t("span",{staticClass:"line-number"},[a._v("13")]),t("br"),t("span",{staticClass:"line-number"},[a._v("14")]),t("br"),t("span",{staticClass:"line-number"},[a._v("15")]),t("br"),t("span",{staticClass:"line-number"},[a._v("16")]),t("br"),t("span",{staticClass:"line-number"},[a._v("17")]),t("br"),t("span",{staticClass:"line-number"},[a._v("18")]),t("br"),t("span",{staticClass:"line-number"},[a._v("19")]),t("br"),t("span",{staticClass:"line-number"},[a._v("20")]),t("br"),t("span",{staticClass:"line-number"},[a._v("21")]),t("br"),t("span",{staticClass:"line-number"},[a._v("22")]),t("br"),t("span",{staticClass:"line-number"},[a._v("23")]),t("br"),t("span",{staticClass:"line-number"},[a._v("24")]),t("br"),t("span",{staticClass:"line-number"},[a._v("25")]),t("br")])]),t("p",[a._v("上面的参数，下面具体说明一下：")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("chunks\n控制哪些模块会被拆分。可选值，有:all、async（默认）、initial。\n"),t("code",[a._v("all 表示")]),a._v("，"),t("code",[a._v("所有模块都有可能被拆分")]),a._v("，"),t("code",[a._v("async")]),a._v("表示只拆分"),t("code",[a._v("动态加载")]),a._v("，"),t("code",[a._v("initial")]),a._v("表示"),t("code",[a._v("不将动态和静态一起处理")]),a._v("，"),t("code",[a._v("而是分开处理")]),a._v("。")])]),a._v(" "),t("li",[t("p",[a._v("minSize : 设置"),t("code",[a._v("生成块最小单位")]),a._v("（字节单位），如果生成的块小于这个大小，那么它不会被拆分")])]),a._v(" "),t("li",[t("p",[a._v("maxSize： 设置"),t("code",[a._v("生成块最大单位")]),a._v("，如果生成块大于这个大小，则会拆分成多个小块")])]),a._v(" "),t("li",[t("p",[a._v("minChunks：设置模块被"),t("code",[a._v("引用的最小次数")]),a._v("，一个模块被引用次数"),t("code",[a._v("达到这个值")]),a._v("后，才会被"),t("code",[a._v("分到一个独立的包中")]),a._v("。")])]),a._v(" "),t("li",[t("p",[a._v("maxAsyncRequests:\n设置"),t("code",[a._v("按需加载时并行请求最大数量")]),a._v("。如果超过这个数量，则会把一些请求放到下一个chunk中")])]),a._v(" "),t("li",[t("p",[a._v("maxInitialRequests：\n设置入口点最大的并行请求数量。")])]),a._v(" "),t("li",[t("p",[a._v("cacheGroups\n这个选项允许你"),t("code",[a._v("创建自定义的缓存组")]),a._v("，以便"),t("code",[a._v("更细粒度地控制哪些模块应该被分割")]),a._v("，以及如何命名分割出来的文件。你可以为每个缓存组设置"),t("code",[a._v("不同的测试条件、优先级、文件名等")]),a._v("。")])])]),a._v(" "),t("h2",{attrs:{id:"小结"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#小结"}},[a._v("#")]),a._v(" 小结")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("实现强缓存，可以通过"),t("code",[a._v("cache-control：max-age=36000")]),a._v("，或这个"),t("code",[a._v("Expire")]),a._v("字段来实现")])]),a._v(" "),t("li",[t("p",[a._v("关闭强缓存，可以设置 "),t("code",[a._v("cache-control:no-cache")]),a._v("、"),t("code",[a._v("cache-control:no-store")]),a._v("、"),t("code",[a._v("Expire：0")])])]),a._v(" "),t("li",[t("p",[a._v("no-cache与no-store 区别在于，"),t("code",[a._v("no-store禁止任何文件缓存")]),a._v("，无法协商，"),t("code",[a._v("no-cache 需要先和服务器协商")]),a._v("来决定是否使用缓存")])]),a._v(" "),t("li",[t("p",[a._v("协商缓存，可以通过"),t("code",[a._v("Last-Modified/If-Modified-Since")]),a._v(" 或者 "),t("code",[a._v("ETag/If-None-Match")]),a._v(" 来实现")])]),a._v(" "),t("li",[t("p",[a._v("如果协商缓存中，文件没有发生该表，则将响应状态设置为304，告诉客户端使用缓存。")])]),a._v(" "),t("li",[t("p",[a._v("webpack 默认使用[hash]命名，颗粒度为整个项目文件，可以通过设置为[contenthash],将颗粒度细化到文件内容。")])]),a._v(" "),t("li",[t("p",[a._v("webpack 默认带有文件分割，可以分离第三方库。")])])])])}),[],!1,null,null,null);t.default=r.exports}}]);