<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>code 空间</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="微信搜索 [优趣知识星球]关注我，更多精彩内容早知道">
    <meta name="referrer" content="no-referrer">
    
    <link rel="preload" href="./assets/css/0.styles.1283b671.css" as="style"><link rel="preload" href="./assets/js/app.2d19893c.js" as="script"><link rel="preload" href="./assets/js/2.40a7d224.js" as="script"><link rel="preload" href="./assets/js/1.81a858bd.js" as="script"><link rel="preload" href="./assets/js/42.8ae605cc.js" as="script"><link rel="prefetch" href="./assets/js/10.6f279210.js"><link rel="prefetch" href="./assets/js/11.84eab169.js"><link rel="prefetch" href="./assets/js/12.ad928c04.js"><link rel="prefetch" href="./assets/js/13.9eb7cac0.js"><link rel="prefetch" href="./assets/js/14.a0a94b42.js"><link rel="prefetch" href="./assets/js/15.c58efa63.js"><link rel="prefetch" href="./assets/js/16.9b8980d4.js"><link rel="prefetch" href="./assets/js/17.644c05fc.js"><link rel="prefetch" href="./assets/js/18.a0e229f5.js"><link rel="prefetch" href="./assets/js/19.d47005b6.js"><link rel="prefetch" href="./assets/js/20.c31295ea.js"><link rel="prefetch" href="./assets/js/21.9582cc51.js"><link rel="prefetch" href="./assets/js/22.f28d93a3.js"><link rel="prefetch" href="./assets/js/23.51420fa7.js"><link rel="prefetch" href="./assets/js/24.dab83daa.js"><link rel="prefetch" href="./assets/js/25.d61eef8d.js"><link rel="prefetch" href="./assets/js/26.f84f5795.js"><link rel="prefetch" href="./assets/js/27.d555393e.js"><link rel="prefetch" href="./assets/js/28.1fc0d219.js"><link rel="prefetch" href="./assets/js/29.692abbea.js"><link rel="prefetch" href="./assets/js/3.a66b692d.js"><link rel="prefetch" href="./assets/js/30.f271357f.js"><link rel="prefetch" href="./assets/js/31.13d046be.js"><link rel="prefetch" href="./assets/js/32.00661df3.js"><link rel="prefetch" href="./assets/js/33.e8dabac9.js"><link rel="prefetch" href="./assets/js/34.91df3073.js"><link rel="prefetch" href="./assets/js/35.9cb9c7e8.js"><link rel="prefetch" href="./assets/js/36.b0ae10e8.js"><link rel="prefetch" href="./assets/js/37.555c866a.js"><link rel="prefetch" href="./assets/js/38.9ae71095.js"><link rel="prefetch" href="./assets/js/39.db54ba90.js"><link rel="prefetch" href="./assets/js/4.86591a69.js"><link rel="prefetch" href="./assets/js/40.b3efe4c9.js"><link rel="prefetch" href="./assets/js/41.840a5da5.js"><link rel="prefetch" href="./assets/js/43.f4cda556.js"><link rel="prefetch" href="./assets/js/44.c5c8caca.js"><link rel="prefetch" href="./assets/js/45.4e2a8531.js"><link rel="prefetch" href="./assets/js/5.25bb60ab.js"><link rel="prefetch" href="./assets/js/6.045e8e65.js"><link rel="prefetch" href="./assets/js/7.63faf862.js"><link rel="prefetch" href="./assets/js/vendors~docsearch.5e19b665.js">
    <link rel="stylesheet" href="./assets/css/0.styles.1283b671.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/./" class="home-link router-link-active"><!----> <span class="site-name">code 空间</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://gitee.com/ten_days" target="_blank" rel="noopener noreferrer" class="nav-link external">
  gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://gitee.com/ten_days/vigo-ui" target="_blank" rel="noopener noreferrer" class="nav-link external">
  个人组件库vigo-ui-caifw
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://gitee.com/ten_days" target="_blank" rel="noopener noreferrer" class="nav-link external">
  gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://gitee.com/ten_days/vigo-ui" target="_blank" rel="noopener noreferrer" class="nav-link external">
  个人组件库vigo-ui-caifw
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/./" aria-current="page" class="sidebar-link">首页</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/./大前端/" class="sidebar-heading clickable open"><span>大前端</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/./大前端/JavaScript基础/" class="sidebar-heading clickable"><span>JavaScript基础</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/./大前端/浏览器/" class="sidebar-heading clickable"><span>浏览器</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/./大前端/开发实战/" class="sidebar-heading clickable open"><span>开发实战</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/./大前端/开发实战/网络.html" class="sidebar-link">http、https</a></li><li><a href="/./大前端/开发实战/前端开发实战基础——网络攻击与防御.html" class="active sidebar-link">网络攻击与防御</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/./大前端/开发实战/前端开发实战基础——网络攻击与防御.html#概要" class="sidebar-link">概要</a></li><li class="sidebar-sub-header"><a href="/./大前端/开发实战/前端开发实战基础——网络攻击与防御.html#xss-cross-site-scripting-跨站脚本攻击" class="sidebar-link">XSS(Cross-site scripting：跨站脚本攻击）</a></li><li class="sidebar-sub-header"><a href="/./大前端/开发实战/前端开发实战基础——网络攻击与防御.html#跨站请求伪造-csrf" class="sidebar-link">跨站请求伪造（CSRF）</a></li><li class="sidebar-sub-header"><a href="/./大前端/开发实战/前端开发实战基础——网络攻击与防御.html#防御措施" class="sidebar-link">防御措施</a></li><li class="sidebar-sub-header"><a href="/./大前端/开发实战/前端开发实战基础——网络攻击与防御.html#小结" class="sidebar-link">小结</a></li></ul></li><li><a href="/./大前端/开发实战/前端开发实战基础——模块.html" class="sidebar-link">模块化开发</a></li></ul></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p>@[toc]</p> <h2 id="概要"><a href="#概要" class="header-anchor">#</a> 概要</h2> <p>关于前端的网络攻击，有以下两种是最为常见的</p> <ul><li><p>Cross-site scripting：跨站脚本攻击</p></li> <li><p>跨站请求伪造（CSRF）</p></li></ul> <p>下面分别介绍两种攻击方式</p> <h2 id="xss-cross-site-scripting-跨站脚本攻击"><a href="#xss-cross-site-scripting-跨站脚本攻击" class="header-anchor">#</a> XSS(Cross-site scripting：跨站脚本攻击）</h2> <p>跨站脚本攻击是一种<code>安全漏洞</code>，攻击者可以利用漏洞，向网站<code>注入恶意的客户端代码</code>。</p> <p>如果受害者在没有察觉中<code>运行</code>这些恶意代码，攻击者就可以<code>突破网站的访问限制</code>，以受害者身份，<code>去操作网站上任何可执行的操作</code>，或者<code>读取受害者在目标网站上的个人信息</code>、cookie、session tokens 等网站验证信息。</p> <p>XSS 攻击有三种类型，分别如下：</p> <h3 id="存储型-xss"><a href="#存储型-xss" class="header-anchor">#</a> 存储型 XSS</h3> <p>存储型XSS，攻击者<code>提交了带有恶意脚本</code>的内容到服务器，这个内容<code>保存到数据库</code>。当其他用户访问这个网站后，内容被这些用户获取，<code>恶意代码便可以在这些用户客户端运行</code>，发起攻击。</p> <h3 id="反射型"><a href="#反射型" class="header-anchor">#</a> 反射型</h3> <p>反射型也称为“<code>非持久型XSS</code>” ,它需要靠被攻击者服务器，将用户输入的数据<code>反射</code>回来给浏览器。</p> <p>攻击者会<code>构造</code>一个包含恶意脚本的<code>URL</code>，并将此URL 发送给用户。当用户点击打开这个URL 时，服务器会将有恶意代码的内容<code>返回到浏览器并运行</code>，达到攻击目标。</p> <p>这种方式<code>不将恶意脚本存储在被攻击的服务器</code>，而是拼接在URL中，并最后随着操作结果返回到受害者浏览器。通过<code>欺骗浏览器信任此恶意脚本</code>，执行窃取个人身份信息如cookie 等<code>发送到攻击者的服务器</code>。</p> <p>举例来说，如果一个用户在登录某个Web应用程序后获得了一个cookie，攻击者可以将含有恶意代码的URL发送给用户。</p> <p>当用户打开这个URL时，Web服务器会执行该URL中的请求，并将恶意代码以请求结果返回给用户浏览器，浏览器执行URL中包含的JavaScript代码。这样，攻击者就可以利用这段恶意代码将用户的cookie信息发送到他们控制的服务器上，进而实现非法登录等恶意行为。</p> <h3 id="xss代码例子"><a href="#xss代码例子" class="header-anchor">#</a> XSS代码例子</h3> <p>下面的地址中，欢迎XXX 是根据URL 的参数name 的值来确定的，是一个动态内容。当我们改变name的值的时候，HTML 显示的值也会变成name对的值。
<img src="https://img-blog.csdnimg.cn/direct/41d5bd402a74481f85cebf96b3a38f1d.png" alt="在这里插入图片描述"></p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!--STATUS OK--&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content-type<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/html;charset=utf-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
window<span class="token punctuation">.</span><span class="token function-variable function">alert</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">//这里是显示一条指定消息和一个确认按钮的警告框</span>
<span class="token punctuation">{</span>     
<span class="token function">confirm</span><span class="token punctuation">(</span><span class="token string">&quot;完成的不错！&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//指定消息完成得不错!</span>
 window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token operator">=</span><span class="token string">&quot;level2.php?keyword=test&quot;</span><span class="token punctuation">;</span> <span class="token comment">//刷新当前页面，并且重定向到level2</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>欢迎来到level1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>center</span><span class="token punctuation">&gt;</span></span>欢迎来到level1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>center</span><span class="token punctuation">&gt;</span></span>欢迎用户test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>center</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>level1.png</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>center</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>center</span><span class="token punctuation">&gt;</span></span>payload的长度:4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>上面代码中，我把URL 地址改成<code>https://xssaq.com/yx/level1.php?name=&lt;script&gt;alert()&lt;/script&gt;</code>
就是执行<code>alert()</code> 函数，实现攻击目标。因为后端没有过滤掉这些恶意代码，直接将这些动态内容传给前端，便会把<script>alert()</script>当做普通函数执行。</p> <p>效果如图所示，成功执行了alert 函数。
<img src="https://img-blog.csdnimg.cn/direct/a47423557f0248f2addb7e54a6fa7eb0.png" alt="在这里插入图片描述"></p> <h3 id="容易发生xss攻击的情形"><a href="#容易发生xss攻击的情形" class="header-anchor">#</a> 容易发生XSS攻击的情形</h3> <p>下面的两种情况，容易发生XSS攻击：</p> <ol><li>没有过滤掉恶意代码的动态内容，被发送给其他用户</li> <li>数据从一个不可靠的链接进入一个Web应用程序</li></ol> <h3 id="基于dom的xss"><a href="#基于dom的xss" class="header-anchor">#</a> 基于DOM的XSS</h3> <p>DOM型攻击，是将恶意脚本注入到被攻击的应用程序的DOM 结构中，而不需要存储到被攻击者服务器，通过修改原DOM 而达到攻击目的。</p> <h2 id="跨站请求伪造-csrf"><a href="#跨站请求伪造-csrf" class="header-anchor">#</a> 跨站请求伪造（CSRF）</h2> <p>跨站伪造请求，Cross-site request forgery，也称为 XSRF，是一种冒充受信任用户，向服务器发送非预期请求的攻击方式。</p> <p>例如，这些非预期的请求，可能是通过URL 链接加入恶意参数来达到攻击目标，如下面的图片的src参数</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://www.example.com/index.php?action=delete&amp;id=123<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>对于<code>https://www.example.com</code> 有权限的用户来说，这个<img>标签会在他们不注意的时候下对<code>https://www.example.com/index.php</code> 服务器发送请求，来达到攻击者的目的。</p> <p>这个图片可能不在https://www.example.com站内，因为用户登录了https://www.example.com后，会保留一些个人信息，攻击者<code>可能通过诱导受害者进入有恶意链接图片</code>，从而执行<code>https://www.example.com/index.php?action=delete&amp;id=123</code>请求，并携带了用户在<code>https://www.example.com</code>的登录信息，造成服务器以为是受害者自己发起的，从而<code>伪造</code>了受害者的请求。</p> <h2 id="防御措施"><a href="#防御措施" class="header-anchor">#</a> 防御措施</h2> <h3 id="对xss-攻击的防御方案"><a href="#对xss-攻击的防御方案" class="header-anchor">#</a> 对XSS 攻击的防御方案</h3> <p>根据XSS 攻击的发生原因，和类型，我们可以可以采取以下的防御措施</p> <h4 id="对用户输入过滤和转义"><a href="#对用户输入过滤和转义" class="header-anchor">#</a> 对用户输入过滤和转义</h4> <p>对所有用户的输入的数据进行严格的过滤、移除或转义可能导致脚本执行的字符或字符串，例如特殊字符“&gt;” 、“&lt;”、“&amp;” 等</p> <h4 id="使用http-only-cookie"><a href="#使用http-only-cookie" class="header-anchor">#</a> 使用HTTP Only Cookie</h4> <p>将敏感信息（会话标志）存储在HttpOnly 的Cookie 中，这样，即使有恶意脚本，也无法直接执行获取Cookie 的操作。</p> <h4 id="使用content-security-policy-csp"><a href="#使用content-security-policy-csp" class="header-anchor">#</a> 使用Content Security Policy（CSP）</h4> <p>CSP 可以限制浏览器<code>只加载和执行特定来源的脚本</code>，从而防止恶意脚本的执行</p> <h4 id="对用户权限进行严格控制"><a href="#对用户权限进行严格控制" class="header-anchor">#</a> 对用户权限进行严格控制</h4> <p>根据用户的角色和权限，限制他们可以访问和操作的资源，从而降低XSS攻击的影响范围。</p> <h3 id="对csrf-跨站伪造请求-防御方案"><a href="#对csrf-跨站伪造请求-防御方案" class="header-anchor">#</a> 对CSRF（跨站伪造请求）防御方案</h3> <p>对于CSRF，我们需要加强请求的验证，可以采取以下的方案</p> <h4 id="验证-http-referer字段"><a href="#验证-http-referer字段" class="header-anchor">#</a> 验证 HTTP Referer字段</h4> <p>检查HTTP请求头中的<code>Referer</code>字段，确保请求是从<code>合法的源发起的</code>。这样就避免受害者从其他<code>被攻击者诱导进入的网站中</code>，无疑发起非预期的请求。因为 Referer 字段会记录发起<code>请求来源于哪个URL地址</code>，如果这个Referer 字段与自己的网站不一致，基本可以判断为第三方不被信任。</p> <h3 id="使用token验证"><a href="#使用token验证" class="header-anchor">#</a> 使用Token验证</h3> <p>在表单中添加一个<code>随机生成的令牌</code>，服务器验证该令牌以确保请求是合法的。</p> <h3 id="使用验证码"><a href="#使用验证码" class="header-anchor">#</a> 使用验证码</h3> <p>在敏感操作中使用验证码，以防止自动化攻击。</p> <h2 id="小结"><a href="#小结" class="header-anchor">#</a> 小结</h2> <ul><li>跨站脚本攻击，有三种类型，存储型、反射型、基于DOM型</li> <li>跨站脚本攻击需要执行特定恶意脚本，因此，可以在用户输入上做严格过滤和转义特殊字符，可以使得其不生效，同时使用CSP限制脚本加载规则和HttpOnly的cookie</li> <li>跨站伪造请求，要加强请求验证，可以检测Referer字段、加token 或者验证码进行增强</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/./大前端/开发实战/网络.html" class="prev">
        http、https
      </a></span> <span class="next"><a href="/./大前端/开发实战/前端开发实战基础——模块.html">
        模块化开发
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="./assets/js/app.2d19893c.js" defer></script><script src="./assets/js/2.40a7d224.js" defer></script><script src="./assets/js/1.81a858bd.js" defer></script><script src="./assets/js/42.8ae605cc.js" defer></script>
  </body>
</html>
